<body>
  <!-- Profile Section HTML Start -->

  <section id="Profile-main">
    <div class="profile-main-wrapper">
      <div class="bars d-xl-none">
        <span>
          <mat-icon>tune</mat-icon>
          {{ 'SEARCH.filters' | translate }}
        </span>
      </div>
      <div id="Profile-sidebar">
        <div class="profile-sidebar-wrapper">
          <div class="filter-form-wrapper">
            <h4>{{ 'SEARCH.filter_by' | translate }}:</h4>
            <form [formGroup]="filterForm" (ngSubmit)="filter()">
              <div class="filter-form">
                <div class="form-input-field">
                  <label>{{ 'SEARCH.animal' | translate }}</label>
                  <div class="up-form-field button-select" id="animal">
                    <p
                      [matMenuTriggerFor]="selectAnimalMenu"
                      *ngIf="selectedAnimal; else selectAnimal"
                    >
                      {{ 'ANIMALS.' + selectedAnimal | translate }}
                      <mat-icon>keyboard_arrow_down</mat-icon>
                    </p>
                    <ng-template #selectAnimal>
                      <p [matMenuTriggerFor]="selectAnimalMenu">
                        {{ 'UPLOAD.select_animal' | translate }}
                        <mat-icon>keyboard_arrow_down</mat-icon>
                      </p>
                    </ng-template>

                    <mat-menu
                      #selectAnimalMenu="matMenu"
                      class="menu-container"
                    >
                      <p
                        class="menu-item"
                        (click)="selectedAnimal = 'dog'; selectAnimalMenu.close.emit(); selectItem(selectedAnimal, 'animal')"
                      >
                        {{ 'ANIMALS.dog' | translate }}
                      </p>
                      <p
                        class="menu-item"
                        (click)="selectedAnimal = 'cat'; selectAnimalMenu.close.emit(); selectItem(selectedAnimal, 'animal')"
                      >
                        {{ 'ANIMALS.cat' | translate }}
                      </p>
                      <p
                        class="menu-item"
                        (click)="selectedAnimal = 'bird'; selectAnimalMenu.close.emit(); selectItem(selectedAnimal, 'animal')"
                      >
                        {{ 'ANIMALS.bird' | translate }}
                      </p>

                      <p
                        class="menu-item"
                        (click)="selectedAnimal = 'fish'; selectAnimalMenu.close.emit(); selectItem(selectedAnimal, 'animal')"
                      >
                        {{ 'ANIMALS.fish' | translate }}
                      </p>
                      <p
                        class="menu-item"
                        (click)="selectedAnimal = 'reptile'; selectAnimalMenu.close.emit(); selectItem(selectedAnimal, 'animal')"
                      >
                        {{ 'ANIMALS.reptile' | translate }}
                      </p>
                    </mat-menu>
                  </div>
                </div>
                <div class="form-input-field">
                  <label>{{ 'UPLOAD.post_type' | translate }}</label>
                  <div class="up-form-field button-select" id="postType">
                    <p
                      [matMenuTriggerFor]="selectTypeMenu"
                      *ngIf="selectedType; else selectType"
                    >
                      {{ 'POST.' + selectedType | translate }}
                      <mat-icon>keyboard_arrow_down</mat-icon>
                    </p>
                    <ng-template #selectType>
                      <p [matMenuTriggerFor]="selectTypeMenu">
                        {{ 'UPLOAD.select_post_type' | translate }}
                        <mat-icon>keyboard_arrow_down</mat-icon>
                      </p>
                    </ng-template>

                    <mat-menu #selectTypeMenu="matMenu" class="menu-container">
                      <p
                        class="menu-item"
                        (click)="selectedType = 'Selling'; selectTypeMenu.close.emit(); selectItem(selectedType, 'postType');"
                      >
                        {{ 'POST.Selling' | translate }}
                      </p>
                      <p
                        class="menu-item"
                        (click)="selectedType = 'Meeting'; selectTypeMenu.close.emit(); selectItem(selectedType, 'postType');"
                      >
                        {{ 'POST.Meeting' | translate }}
                      </p>
                      <p
                        class="menu-item"
                        (click)="selectedType = 'Adopting'; selectTypeMenu.close.emit(); selectItem(selectedType, 'postType');"
                      >
                        {{ 'POST.Adopting' | translate }}
                      </p>
                    </mat-menu>
                  </div>
                </div>
                <div class="form-input-field">
                  <label>{{ 'UPLOAD.city' | translate }}</label>
                  <app-cities-selector
                    [type]="'search'"
                    [form]="filterForm"
                    controlName="city"
                    [currentCity]="'Select Your City'"
                  ></app-cities-selector>
                </div>
                <!-- GENDER -->
                <div class="form-input-field">
                  <label>{{ 'UPLOAD.gender' | translate }}</label>

                  <div class="up-form-field button-select" id="gender">
                    <p
                      [matMenuTriggerFor]="selectGenderMenu"
                      *ngIf="selectedGender; else selectGender"
                    >
                      {{ 'UPLOAD.' + selectedGender | translate }}
                      <mat-icon>keyboard_arrow_down</mat-icon>
                    </p>
                    <ng-template #selectGender>
                      <p [matMenuTriggerFor]="selectGenderMenu">
                        {{ 'UPLOAD.gender' | translate }}
                        <mat-icon>keyboard_arrow_down</mat-icon>
                      </p>
                    </ng-template>

                    <mat-menu
                      #selectGenderMenu="matMenu"
                      class="menu-container"
                    >
                      <p
                        class="menu-item"
                        (click)="selectedGender = 'male'; selectGenderMenu.close.emit(); selectItem(selectedGender, 'gender');"
                      >
                        {{ 'UPLOAD.male' | translate }}
                      </p>
                      <p
                        class="menu-item"
                        (click)="selectedGender = 'female'; selectGenderMenu.close.emit(); selectItem(selectedGender, 'gender');"
                      >
                        {{ 'UPLOAD.female' | translate }}
                      </p>
                    </mat-menu>
                  </div>
                </div>
                <div class="form-input-field">
                  <label>{{ 'SEARCH.age_type' | translate }}</label>
                  <div class="up-form-field button-select" id="postType">
                    <p
                      [matMenuTriggerFor]="selectAgeTypeMenu"
                      *ngIf="selectedAgeType; else selectAgeType"
                    >
                      {{ 'POST.' + selectedAgeType | translate }}
                      <mat-icon>keyboard_arrow_down</mat-icon>
                    </p>
                    <ng-template #selectAgeType>
                      <p [matMenuTriggerFor]="selectAgeTypeMenu">
                        {{ 'UPLOAD.age_type' | translate }}
                        <mat-icon>keyboard_arrow_down</mat-icon>
                      </p>
                    </ng-template>

                    <mat-menu
                      #selectAgeTypeMenu="matMenu"
                      class="menu-container"
                    >
                      <p
                        class="menu-item"
                        (click)="selectedAgeType = 'Years'; selectTypeMenu.close.emit(); selectItem(selectedAgeType, 'ageType');"
                      >
                        {{ 'POST.Years' | translate }}
                      </p>
                      <p
                        class="menu-item"
                        (click)="selectedAgeType = 'Months'; selectTypeMenu.close.emit(); selectItem(selectedAgeType, 'ageType');"
                      >
                        {{ 'POST.Months' | translate }}
                      </p>
                    </mat-menu>
                  </div>
                </div>
                <div class="form-input-field">
                  <label>{{ 'UPLOAD.age' | translate }}</label>
                  <div class="d-flex">
                    <input
                      class="me-1"
                      type="text"
                      placeholder="{{ 'SEARCH.min' | translate }}"
                      formControlName="ageMin"
                      required
                    />
                    <input
                      class="ms-1"
                      type="text"
                      placeholder="{{ 'SEARCH.max' | translate }}"
                      formControlName="ageMax"
                      required
                    />
                  </div>
                </div>
                <div class="form-input-field" id="price-div">
                  <label>{{ 'UPLOAD.price' | translate }}</label>
                  <div class="d-flex">
                    <input
                      class="me-1"
                      type="text"
                      placeholder="{{ 'SEARCH.min' | translate }}"
                      formControlName="priceMin"
                      required
                    />
                    <input
                      class="ms-1"
                      type="text"
                      placeholder="{{ 'SEARCH.max' | translate }}"
                      formControlName="priceMax"
                      required
                    />
                  </div>
                </div>
                <input
                  type="button"
                  value="{{ 'SEARCH.reset_filters' | translate }}"
                  class="reset-filter"
                  (click)="resetFilters()"
                />
                <div class="form-btn">
                  <input
                    type="submit"
                    value="{{ 'SEARCH.filter' | translate }}"
                  />
                  <input
                    type="button"
                    value="{{ 'SEARCH.close' | translate }}"
                    (click)="closeFilter()"
                    class="close-btn"
                  />
                </div>
              </div>
              <div class="error-div">
                <p *ngIf="filterError" class="filter-error">
                  {{ filterError }}
                </p>
              </div>
            </form>
          </div>
        </div>
      </div>
      <div id="Profile-contents" class="position-relative">
        <div class="profile-contents-wrapper">
          <div class="post-wrapper position-relative" *ngIf="vipCount >= 1">
            <div class="section-title">
              <h2>{{ 'HOME.vip_posts' | translate }}</h2>
            </div>
            <div class="position-relative pt-3">
              <app-vip-posts [vipPosts]="vipPosts"></app-vip-posts>
            </div>
            <div class="profile-shape2">
              <img
                src="assets/images/profile-shape2.png"
                alt="profile-shape2"
              />
            </div>
          </div>

          <div class="post-wrapper position-relative mt-5 pt-5">
            <div class="d-md-flex justify-content-between align-items-center">
              <div class="section-title">
                <h2>{{ 'SEARCH.search_results' | translate }}</h2>
              </div>
              <div class="sorted-by">
                <label
                  >{{ 'SEARCH.found' | translate: { count: count, time: time }
                  }}</label
                >
              </div>
            </div>
            <app-posts [posts]="posts"></app-posts>
          </div>

          <!-- Latest Post Pagination -->

          <div class="latest-pagination">
            <div class="latest-pagi-wrapper">
              <ul (click)="pagination($event)">
                <li class="arrow-left">
                  <img
                    src="assets/images/chevron-left.svg"
                    alt="chevron-left"
                    class="arrow-left"
                  />
                </li>
                <li
                  *ngFor="let page of pages"
                  class="pageNum"
                  [ngClass]="{ active: page === pageIndex }"
                >
                  {{ page }}
                </li>
                <li class="arrow-right">
                  <img
                    src="assets/images/chevron-right.svg"
                    alt="chevron-right"
                    class="arrow-right"
                  />
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="profile-shape1">
          <img src="assets/images/profile-shape1.png" alt="profile-shape1" />
        </div>
        <div class="profile-shape3">
          <img src="assets/images/profile-shape3.png" alt="profile-shape3" />
        </div>
      </div>
    </div>
  </section>

  <!-- Profile Section HTML End -->
  <!-- User Footer Section HTML Start -->
  <app-footer></app-footer>
</body>
